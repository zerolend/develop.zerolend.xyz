(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{58942:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Q}});var r=t(67294),i=t(90452),s=t(70228),c=t(15446),o=t(16220),a=t(77537),l=t(49501),d=t(30120),x=t(40535),u=t(46930),h=t(74815),j=t(2180),p=t(28533),m=t(85893),f=function(){var e=(0,u.f)().currentNetworkConfig;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(h.f,{titleComponent:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.Z,{wrapperSx:{mb:4},chainId:59144}),(0,m.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(j.T1,{symbol:"zero",fontSize:"large",sx:{mb:4,mr:2}}),(0,m.jsx)(x.V,{pageTitle:(0,m.jsx)(l.cC,{id:"Stake"}),withMarketSwitcher:!1,bridge:e.bridge})]})]}),pageDesc:(0,m.jsx)(l.cC,{id:"Here you can stake ZERO for veZERO and enjoy staking benefits and future potential airdrops."}),children:(0,m.jsx)(m.Fragment,{})})})},v=t(79072),b=t(29630),y=t(18377),Z=t(75084),g=t(41024),k=t(27484),w=t.n(k),C=t(1279),O=t(45556),P=t(8195),L=function(e){var n=(0,P.vR)().openWithdrawLockZeroModal;return(0,m.jsx)(O.l,{titleComponent:(0,m.jsx)(b.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,m.jsx)(l.cC,{id:"{0}",values:{0:"nft"===e.lock.type?"NFT#".concat(e.lock.id):"Lock#".concat(e.lock.id)}})}),localStorageName:"Lock#".concat(e.lock.id),withBottomMargin:!0,children:(0,m.jsx)(y.Z,{px:6,children:(0,m.jsxs)(y.Z,{mb:4,pb:4,children:[(0,m.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(v.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,m.jsxs)(y.Z,{children:[(0,m.jsxs)(y.Z,{mb:7,children:[(0,m.jsx)(b.Z,{variant:"description",color:"text.muted",mb:2,children:"Amount Locked"}),(0,m.jsxs)(y.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:[(0,m.jsx)(j.T1,{symbol:"ZERO",sx:{width:24}}),(0,m.jsx)(g.B,{value:e.lock.amount&&(0,C.pV)(e.lock.amount.toString(),18).toString(),variant:"secondary21",visibleDecimals:2,compact:!0,ml:1,sx:{display:"flex",alignItems:"baseline"}})]})]}),(0,m.jsx)(b.Z,{variant:"description",color:"text.muted",mb:2,children:"Lock End Date"}),(0,m.jsx)(y.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:(0,m.jsx)(b.Z,{variant:"secondary21",children:w().unix(Number(e.lock.end.toString())).format("DD-MM-YYYY")})})]})}),(0,m.jsx)(v.ZP,{item:!0,lg:6,md:6,sm:6,xs:6,children:(0,m.jsxs)(y.Z,{children:[(0,m.jsxs)(y.Z,{mb:7,children:[(0,m.jsx)(b.Z,{variant:"description",color:"text.muted",mb:2,children:"APR"}),(0,m.jsx)(y.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:(0,m.jsx)(g.B,{value:(0,C.Fv)(e.lock.apr.mul(100).toString(),18).toString(),symbol:"%",variant:"secondary21",symbolsVariant:"secondary16",visibleDecimals:2,compact:!0,ml:1,sx:{display:"flex",alignItems:"baseline"}})})]}),(0,m.jsx)(b.Z,{variant:"description",color:"text.muted",mb:2,children:"Voting Power"}),(0,m.jsx)(y.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:(0,m.jsx)(g.B,{value:(0,C.pV)(e.lock.power.toString(),18).toString(),variant:"secondary21",symbolsVariant:"secondary16",visibleDecimals:2,symbol:"veZERO",compact:!0,ml:1,sx:{display:"flex",alignItems:"baseline"}})})]})})]}),(0,m.jsx)(y.Z,{mt:8,children:(0,m.jsx)(Z.Z,{variant:"contained",onClick:function(){n(e.lock.id,e.lock.amount.toString())},fullWidth:!0,disabled:"nft"===e.lock.type||w()().valueOf()>e.lock.end.toNumber(),children:"Withdraw"})})]})})})},S=t(50029),E=t(87794),I=t.n(E),A=t(36492),D=t(30449),N=t(74180),R=function(){var e=(0,D.z)().vestUIDataService,n=(0,a.Z)().currentAccount;return(0,A.a)({queryFn:function(){var t=(0,S.Z)(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGenralStakeUIDataHumanized(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),queryKey:["USER_LOCK_UI_DATA"],enabled:!!n,refetchInterval:N.POLLING_INTERVAL,initialData:[]})},_=function(){var e=R(),n=e.data,t=e.isFetching;return(0,m.jsx)(m.Fragment,{children:0===(null===n||void 0===n?void 0:n.length)||void 0===n?(0,m.jsx)(O.l,{titleComponent:(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(b.Z,{component:"p",variant:"h3",sx:{mr:4},children:(0,m.jsx)(l.cC,{id:"Your Token Locks"})}),(0,m.jsx)(b.Z,{component:"p",variant:"description",sx:{mr:4},color:"text.muted",children:(0,m.jsx)(l.cC,{id:"Your staking positions will be visible as NFTs here. You can withdraw your staked tokens after the lock period is over."})})]}),children:(0,m.jsx)(d.Z,{px:6,children:(0,m.jsx)(d.Z,{mb:4,pb:4,children:(0,m.jsx)(b.Z,{textAlign:"center",children:t?"Fetching Locks...":"No locks found"})})})}):null===n||void 0===n?void 0:n.map((function(e,n){return(0,m.jsx)(L,{lock:e},n)}))})},F=t(59379),T=t(34637),B=t(62097),Y=t(61225),V=t(70918),H=t(14463),M=t(87369),z=function(){var e=(0,P.vR)(),n=e.openLockedDLP,t=e.openLockLPModal,r=(0,B.Z)(),i=(0,Y.Z)(r.breakpoints.down("sm")),s=i?"main16":"main21",c=i?"secondary16":"secondary21";return(0,m.jsx)(V.Z,{sx:{pt:4},children:(0,m.jsx)(d.Z,{px:6,children:(0,m.jsxs)(d.Z,{mb:4,pb:4,children:[(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4,children:(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(b.Z,{component:"div",variant:"h3",sx:{mb:0},children:"Unleash the full power of ZERO with locked dLP"}),(0,m.jsx)(b.Z,{component:"p",variant:"caption",fontSize:14,sx:{mr:4},color:"text.muted",maxWidth:780,children:"Earn protocol fees paid in ETH."})]})}),(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:4,children:(0,m.jsx)(M.d,{hideIcon:!0,title:(0,m.jsx)("div",{style:{display:"flex"},children:(0,m.jsx)(l.cC,{id:"APR upto"})}),loading:!1,children:(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,m.jsx)(g.B,{value:"1231231",variant:s,visibleDecimals:2,compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:c,percent:!0})})})}),(0,m.jsxs)(d.Z,{mt:4,children:[(0,m.jsx)(Z.Z,{variant:"contained",onClick:function(){return t()},sx:{mr:4},children:(0,m.jsx)(l.cC,{id:"Stake LP"})}),(0,m.jsx)(Z.Z,{variant:"contained",onClick:function(){return n()},children:(0,m.jsx)(l.cC,{id:"Zap into dLP"})})]})]})})})},U=t(59370),W=function(){var e=(0,D.z)().tokenBalanceService,n=(0,a.Z)().currentAccount,t=(0,r.useState)(""),i=t[0],c=t[1],o=(0,r.useState)(""),l=o[0],d=o[1],x=(0,r.useState)(0),u=x[0],h=x[1],j=(0,r.useState)(!0),p=j[0],m=j[1],f=e.getTokenBalanceOf,v=(0,s.Yh)((function(e){return e.totalSupply})),b=(0,r.useCallback)((0,S.Z)(I().mark((function e(){var t,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(m(!1),c(""),d(""),h(0)),m(!0),e.next=4,f({tokenAddress:U.H.crossChainAddresses[U.H.chainId].ZERO_ADDRESS,user:U.H.crossChainAddresses[U.H.chainId].LOCKER_TOKEN});case 4:return t=e.sent,e.next=7,t.div(25e9);case 7:return r=e.sent,e.next=10,v.mul(4e8).div(t);case 10:i=e.sent,c(t.toString()),d(r.toString()),h(i.toNumber()/1e8),m(!1);case 15:case"end":return e.stop()}}),e)}))),[n,U.H.crossChainAddresses[U.H.chainId].LOCKER_TOKEN,U.H.crossChainAddresses[U.H.chainId].ZERO_ADDRESS,e,v]);return(0,r.useEffect)((function(){b().catch((function(e){console.error("Failed to fetch Lock Data Values: ".concat(e.stack)),m(!1),c(""),d(""),h(0)}))}),[b,n,e]),{data:i,perc:l,avgLock:u,isLoading:p}},K=t(47850),q=function(){var e=(0,P.vR)().openNewLockZeroModal,n=(0,B.Z)(),t=(0,Y.Z)(n.breakpoints.down("sm")),r=t?"main16":"main21",i=t?"secondary16":"secondary21",s=t?"secondary16":"secondary21",c=W(),o=c.data,a=c.avgLock,x=c.isLoading,u=(0,K.A)();return(0,m.jsx)(V.Z,{sx:{pt:4},children:(0,m.jsx)(d.Z,{px:6,children:(0,m.jsxs)(d.Z,{mb:4,pb:4,children:[(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4,children:(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(b.Z,{component:"div",variant:"h3",sx:{mb:0},children:"Unleash the full power of ZERO with ZERO Staking"}),(0,m.jsx)(b.Z,{component:"p",variant:"caption",fontSize:14,sx:{mr:4},color:"text.muted",maxWidth:780,children:"Earn protocol fees paid in ETH."})]})}),(0,m.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:4,children:[(0,m.jsx)(M.d,{hideIcon:!0,title:(0,m.jsx)("div",{style:{display:"flex"},children:(0,m.jsx)(l.cC,{id:"Total locked"})}),loading:x,children:o?(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,m.jsx)(g.B,{value:(0,C.Fv)(o,18).toString(),variant:r,visibleDecimals:2,compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:i})}):(0,m.jsx)(H.J,{variant:s,sx:{opacity:"0.7"}})}),(0,m.jsx)(M.d,{hideIcon:!0,title:(0,m.jsx)("div",{style:{display:"flex"},children:(0,m.jsx)(l.cC,{id:"Avg. Locking Period"})}),loading:x,withLine:!0,children:a?(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,m.jsx)(g.B,{value:a,variant:r,visibleDecimals:2,compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:i,symbol:1===a?"year":"years"})}):(0,m.jsx)(H.J,{variant:s,sx:{opacity:"0.7"}})}),(0,m.jsx)(M.d,{hideIcon:!0,title:(0,m.jsx)("div",{style:{display:"flex"},children:(0,m.jsx)(l.cC,{id:"APR upto"})}),loading:x,withLine:!0,children:u?(0,m.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,m.jsx)(g.B,{value:u,variant:r,visibleDecimals:2,compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:i,percent:!0})}):(0,m.jsx)(H.J,{variant:s,sx:{opacity:"0.7"}})})]}),(0,m.jsx)(d.Z,{mt:4,children:(0,m.jsx)(Z.Z,{variant:"contained",onClick:e,sx:{mr:4},children:(0,m.jsx)(l.cC,{id:"Stake ZERO"})})})]})})})},J=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(O.l,{titleComponent:(0,m.jsxs)(d.Z,{children:[(0,m.jsx)(b.Z,{component:"p",variant:"h3",sx:{mr:4},children:(0,m.jsx)(l.cC,{id:"Your LP Locks"})}),(0,m.jsx)(b.Z,{component:"p",variant:"description",sx:{mr:4},color:"text.muted",children:(0,m.jsx)(l.cC,{id:"Your staking positions will be visible as NFTs here. You can withdraw your staked LP tokens after the lock period is over."})})]}),children:(0,m.jsx)(d.Z,{px:6,children:(0,m.jsx)(d.Z,{mb:4,pb:4,children:(0,m.jsx)(b.Z,{textAlign:"center",children:"UI Provider work in Progress.. Please check the locked LP on blockchain"})})})})})},G=function(){var e=(0,r.useState)("lockOverview"),n=e[0],t=e[1],i="lockOverview"===n;return(0,m.jsxs)(d.Z,{children:[(0,m.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(v.ZP,{item:!0,md:6,children:(0,m.jsx)(z,{})}),(0,m.jsx)(v.ZP,{item:!0,md:6,children:(0,m.jsx)(q,{})})]}),(0,m.jsx)(d.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,m.jsxs)(F.Z,{color:"primary",value:n,exclusive:!0,onChange:function(e,n){return t(n)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px"},children:[(0,m.jsx)(T.Z,{value:"overview",disabled:"lockOverview"===n,children:(0,m.jsx)(b.Z,{variant:"subheader1",children:(0,m.jsx)(l.cC,{id:"Your Zero Locked"})})}),(0,m.jsx)(T.Z,{value:"actions",disabled:"lpOverview"===n,children:(0,m.jsx)(b.Z,{variant:"subheader1",children:(0,m.jsx)(l.cC,{id:"Your LP Locked"})})})]})}),(0,m.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,m.jsx)(d.Z,{sx:{display:{xs:i?"block":"none",lg:"block"},width:{xs:"100%",lg:"calc(100% - 32px)"},mr:{xs:0,lg:4}},children:(0,m.jsx)(J,{})}),(0,m.jsx)(d.Z,{sx:{display:{xs:i?"none":"block",lg:"block"},width:{xs:"100%",lg:"1240px"}},children:(0,m.jsx)(_,{})})]})]})},X=t(45745);function Q(){var e=(0,a.Z)(),n=e.currentAccount,t=e.loading,o=(0,i.T)().isPermissionsLoading,l=(0,s.Yh)((function(e){return e.trackEvent}));return(0,r.useEffect)((function(){l("Page Viewed",{"Page Name":"Lock"})}),[l]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{}),(0,m.jsx)(c.O,{children:n&&!o?(0,m.jsx)(G,{}):(0,m.jsx)(X.w,{loading:t})})]})}Q.getLayout=function(e){return(0,m.jsx)(o.Z,{children:e})}},28533:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(59499),i=t(49501),s=t(75331),c=t(30120),o=t(29630),a=t(91555),l=t(85893);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e,n){return e===s.a_.mainnet?"Ethereum Mainnet":n.name},h=function(e){var n=e.chainId,t=e.wrapperSx,r=a.m[n];return(0,l.jsxs)(c.Z,{sx:x({display:"flex",alignItems:"center"},t),children:[(0,l.jsx)(o.Z,{variant:"subheader1",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(i.cC,{id:"Available on"})}),(0,l.jsx)(c.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:r.networkLogoPath,height:"100%",width:"100%",alt:"".concat(null===r||void 0===r?void 0:r.name)})}),(0,l.jsx)(o.Z,{variant:"subheader1",sx:{ml:1,color:"#C0CBF6"},children:u(n,r)})]})}},45745:function(e,n,t){"use strict";t.d(n,{w:function(){return j}});var r=t(59499),i=t(4730),s=t(49501),c=t(70918),o=t(90149),a=t(29630),l=t(3765),d=t(85893),x=["loading","description","sx"];function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n=e.loading,t=e.description,r=e.sx,u=(0,i.Z)(e,x);return(0,d.jsx)(c.Z,h(h({},u),{},{sx:h({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},r),children:(0,d.jsx)(d.Fragment,{children:n?(0,d.jsx)(o.Z,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{variant:"h2",sx:{mb:2},children:(0,d.jsx)(s.cC,{id:"Please, connect your wallet"})}),(0,d.jsx)(a.Z,{sx:{mb:6},color:"text.secondary",children:t||(0,d.jsx)(s.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,d.jsx)(l.p,{})]})})}))}},15446:function(e,n,t){"use strict";t.d(n,{O:function(){return c}});var r=t(30120),i=t(36336),s=t(85893),c=function(e){var n=e.children;return(0,s.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column",flex:1,mt:{xs:"-32px",lg:"-46px",xl:"-44px",xxl:"-48px"}},children:(0,s.jsx)(i.Z,{children:n})})}},3765:function(e,n,t){"use strict";t.d(n,{p:function(){return d}});var r=t(49501),i=t(75084),s=t(26074),c=t(70228),o=t(57609),a=t(58294),l=t(85893),d=function(e){var n=e.funnel,t=(0,s.q)().setWalletModalOpen,d=(0,c.Yh)((function(e){return e.trackEvent}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Z,{variant:"gradient",onClick:function(){d(o.Bp.CONNECT_WALLET,{funnel:n}),t(!0)},children:(0,l.jsx)(r.cC,{id:"Connect wallet"})}),(0,l.jsx)(a.x,{})]})}},72562:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return t(58942)}])}},function(e){e.O(0,[249,347,774,888,179],(function(){return n=72562,e(e.s=n);var n}));var n=e.O();_N_E=n}]);